(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{3365:function(e,t,s){Promise.resolve().then(s.bind(s,8654))},8654:function(e,t,s){"use strict";s.r(t);var a=s(7437),n=s(6770),c=s(165),r=s(5764),i=s(9103);s(6691);var l=s(1396),o=s.n(l),d=s(2265),u=s(8910),x=s(698);t.default=()=>{var e,t,s;let[l,h]=(0,d.useState)(0),[f,m]=(0,d.useState)(),g=(0,c.NL)(),{isLoading:v,mutate:j}=(0,r.D)(async e=>{let t=await (0,n.ul)(e);if(console.log("responseOfDelete",t),200!==t.status)throw Error();return t},{onSuccess:async()=>{i.Z.success("product deleted successFuly"),g.invalidateQueries("getLoginUserDetails"),await g.refetchQueries("getLoginUserDetails"),await p()},onError:()=>{i.Z.error("product not deleted try again")}}),p=async()=>{let e=await g.getQueryData(["getLoginUserDetails"]);console.log(e||""),m(e)};if((0,d.useEffect)(()=>{setTimeout(()=>{p()},1e3)},[f]),(0,d.useEffect)(()=>{var e,t;if(null==f?void 0:null===(t=f.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.cart){let e=f.data.user.cart.reduce((e,t)=>e+t.product.sellingPrice*t.quantity,0);h(e)}},[f]),!f)return(0,a.jsx)("div",{className:"flex justify-center items-center mt-[200px] ",children:(0,a.jsx)(x.s5,{strokeColor:"brown",strokeWidth:"3",animationDuration:"0.75",width:"100",visible:!0})});console.warn(null==f?void 0:null===(e=f.data)||void 0===e?void 0:e.user);let w=e=>{v||j(e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bg-slate-200 min-h-[100vh] py-10",children:(0,a.jsx)("div",{className:"container bg-white mx-auto",children:(0,a.jsxs)("div",{className:"px-4 py-4 flex flex-col justify-start items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"Cart"}),(0,a.jsx)("hr",{className:"h-[1] w-[100%]"}),null==f?void 0:null===(s=f.data)||void 0===s?void 0:null===(t=s.user)||void 0===t?void 0:t.cart.map((e,t)=>{var s;return console.warn("asdasd",null===(s=e.product)||void 0===s?void 0:s.images[0].url),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex sm:justify-between justify-center items-center w-[100%] sm:flex-row flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex sm:flex-row flex-col  gap-4 ",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:e.product.images[0].url,width:100,height:100})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Name:"," "]})," ",e.product.name]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Category:"," "]})," ",e.product.category]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"Quantity :"})," ",e.quantity]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:[" ","Price : ₹"," "]}),e.product.sellingPrice]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"TotalPrice :"})," ",e.product.sellingPrice,"*",e.quantity," = ₹",e.product.sellingPrice*e.quantity]}),(0,a.jsx)("button",{className:"text-blue-500  flex justify-end active:text-red-500",onClick:()=>w(e.product._id),children:(0,a.jsx)(u.ZkW,{})})]})]},t),(0,a.jsx)("hr",{className:"w-[100%]"})]})}),(0,a.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{children:"SubTotal"}),(0,a.jsx)("p",{className:"text-sm",children:"shopping and taxes added at checkout"})]}),(0,a.jsx)("div",{children:l})]}),(0,a.jsx)("div",{className:"w-[100%]",children:(0,a.jsx)(o(),{href:"/checkout",children:(0,a.jsx)("button",{className:"bg-blue-500 text-white hover:text-black w-[100%] text-center rounded py-3",children:"Checkout"})})}),(0,a.jsx)("div",{className:"w-[100%] flex justify-center items-center",children:(0,a.jsx)(o(),{href:"/",children:(0,a.jsx)("button",{className:"text-center",children:"Continue Shopping -- "})})})]})})})})}},6770:function(e,t,s){"use strict";s.d(t,{Xq:function(){return h},ul:function(){return f},de:function(){return u},hH:function(){return l},_0:function(){return x},hZ:function(){return m},a$:function(){return r},z1:function(){return d},n$:function(){return i},Kv:function(){return o}});var a=s(9222);let n=async(e,t,s,n)=>{try{let c={method:e,url:t,data:s,headers:n?{...n}:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include"},r=await (0,a.Z)(c);return{status:200,success:!0,data:r.data}}catch(e){return{status:400,success:!1,error:e.response?e.response.data:e}}};var c=s(9294);let r=async(e,t)=>await n("POST","".concat(c._,"/registerUser"),e,t),i=async e=>await n("POST","".concat(c._,"/userLogin"),e),l=async()=>await n("GET","".concat(c._,"/getLoginUserDetails"),""),o=async()=>await n("GET","".concat(c._,"/userLogout"),""),d=async(e,t)=>await n("PUT","".concat(c._,"/updateProfileAfterLogin"),e,t),u=async e=>await n("GET","".concat(c._,"/getAllProduct/").concat(e),""),x=async e=>await n("GET","".concat(c._,"/getSingleProduct/").concat(e),""),h=async(e,t)=>(console.log(t,"data data dtadtad ad tadatd ",e),await n("POST","".concat(c._,"/addToCart/").concat(e),t)),f=async e=>await n("DELETE","".concat(c._,"/deleteToCart/").concat(e)),m=async e=>await n("POST","".concat(c._,"/postProduct"),e)},9294:function(e,t,s){"use strict";s.d(t,{_:function(){return a}});let a="https://e-commerce-backend-xh0l.onrender.com"}},function(e){e.O(0,[582,685,475,717,777,501,282,971,596,744],function(){return e(e.s=3365)}),_N_E=e.O()}]);