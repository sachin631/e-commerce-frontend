(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{4222:function(e,t,n){Promise.resolve().then(n.bind(n,4584))},4584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7437);n(2080),n(1396);var s=n(165),i=n(5764),r=n(9103),o=n(2265),l=n(6770),c=n(4033);function u(){let e=(0,c.useRouter)(),[t,n]=(0,o.useState)(),[u,d]=(0,o.useState)(),[m,g]=(0,o.useState)({name:"",phoneNumber:"",email:"",passWord:"",rePassword:""}),f=(0,s.NL)(),p=e=>{let{name:t,value:n}=e.target;g({...m,[t]:n})};console.log("form",m),console.log("image",t),(0,o.useEffect)(()=>{t&&d(URL.createObjectURL(t))},[t]);let{mutate:x,isLoading:h}=(0,i.D)(async e=>{let t=await (0,l.z1)(e,{"Content-Type":"multipart/form-data"});if(console.log(t),200!==t.status)throw error},{onSuccess:async()=>{r.Z.success("Your data is Store SuccesFuly"),g({...m,name:"",email:"",phoneNumber:""}),await f.invalidateQueries("getLoginUserDetails"),e.push("/")},onError:()=>{r.Z.error("someting went wrong try again later !")}});return(0,a.jsxs)(a.Fragment,{children:[h?r.Z.loading("loading..."):"",(0,a.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)("img",{className:"mx-auto  rounded-full w-[100px] h-[100px]",src:u||"",alt:"Your profile pic",onChange:()=>{}}),(0,a.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Register to your account"})]}),(0,a.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"file",className:"block text-sm font-medium leading-6 text-gray-900",children:"profile Picture"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{onChange:e=>{n(e.target.files[0])},id:"file",name:"avatar",accept:"image/*",type:"file",className:"pl-4 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"Name"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{onChange:p,value:m.name,name:"name",id:"text",type:"text",className:"pl-4 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"phoneNumber"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{value:m.phoneNumber,onChange:p,name:"phoneNumber",id:"phoneNumber",type:"text",className:"pl-4 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{value:m.email,onChange:p,name:"email",id:"email",type:"email",className:"pl-4 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault();let{name:n,email:a,phoneNumber:s}=m,i=new FormData;i.append("avatar",t),i.append("name",n),i.append("email",a),i.append("phoneNumber",s),(""==n||""==a||""==s)&&r.Z.error("please fill all fields properly"),h||x(i)},type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"update Profile"})})]})})]})]})}},2080:function(e,t,n){"use strict";n(9222).Z.create({baseURL:"http://localhost:27017",withCredentials:!0,headers:{"Access-Control-Allow-Credentials":!0,"Content-Type":"application/json"}})},6770:function(e,t,n){"use strict";n.d(t,{Xq:function(){return g},ul:function(){return f},de:function(){return d},hH:function(){return l},_0:function(){return m},hZ:function(){return p},a$:function(){return r},z1:function(){return u},n$:function(){return o},Kv:function(){return c}});var a=n(9222);let s=async(e,t,n,s)=>{try{let i={method:e,url:t,data:n,headers:s?{...s}:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include"},r=await (0,a.Z)(i);return{status:200,success:!0,data:r.data}}catch(e){return{status:400,success:!1,error:e.response?e.response.data:e}}};var i=n(9294);let r=async(e,t)=>await s("POST","".concat(i._,"/registerUser"),e,t),o=async e=>await s("POST","".concat(i._,"/userLogin"),e),l=async()=>await s("GET","".concat(i._,"/getLoginUserDetails"),""),c=async()=>await s("GET","".concat(i._,"/userLogout"),""),u=async(e,t)=>await s("PUT","".concat(i._,"/updateProfileAfterLogin"),e,t),d=async e=>await s("GET","".concat(i._,"/getAllProduct/").concat(e),""),m=async e=>await s("GET","".concat(i._,"/getSingleProduct/").concat(e),""),g=async(e,t)=>(console.log(t,"data data dtadtad ad tadatd ",e),await s("POST","".concat(i._,"/addToCart/").concat(e),t)),f=async e=>await s("DELETE","".concat(i._,"/deleteToCart/").concat(e)),p=async e=>await s("POST","".concat(i._,"/postProduct"),e)},9294:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});let a="https://e-commerce-backend-xh0l.onrender.com"},1396:function(e,t,n){e.exports=n(6685)},4033:function(e,t,n){e.exports=n(8165)}},function(e){e.O(0,[685,475,717,777,971,596,744],function(){return e(e.s=4222)}),_N_E=e.O()}]);