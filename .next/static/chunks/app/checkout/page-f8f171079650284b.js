(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{3564:function(e,s,t){Promise.resolve().then(t.bind(t,4766))},8654:function(e,s,t){"use strict";t.r(s);var a=t(7437),r=t(6770),l=t(165),n=t(5764),i=t(9103);t(6691);var c=t(1396),d=t.n(c),o=t(2265),x=t(8910),u=t(698);s.default=()=>{var e,s,t;let[c,h]=(0,o.useState)(0),[p,f]=(0,o.useState)(),m=(0,l.NL)(),{isLoading:j,mutate:v}=(0,n.D)(async e=>{let s=await (0,r.ul)(e);if(console.log("responseOfDelete",s),200!==s.status)throw Error();return s},{onSuccess:async()=>{i.Z.success("product deleted successFuly"),m.invalidateQueries("getLoginUserDetails"),await m.refetchQueries("getLoginUserDetails"),await g()},onError:()=>{i.Z.error("product not deleted try again")}}),g=async()=>{let e=await m.getQueryData(["getLoginUserDetails"]);console.log(e||""),f(e)};if((0,o.useEffect)(()=>{setTimeout(()=>{g()},1e3)},[p]),(0,o.useEffect)(()=>{var e,s;if(null==p?void 0:null===(s=p.data)||void 0===s?void 0:null===(e=s.user)||void 0===e?void 0:e.cart){let e=p.data.user.cart.reduce((e,s)=>e+s.product.sellingPrice*s.quantity,0);h(e)}},[p]),!p)return(0,a.jsx)("div",{className:"flex justify-center items-center mt-[200px] ",children:(0,a.jsx)(u.s5,{strokeColor:"brown",strokeWidth:"3",animationDuration:"0.75",width:"100",visible:!0})});console.warn(null==p?void 0:null===(e=p.data)||void 0===e?void 0:e.user);let b=e=>{j||v(e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"bg-slate-200 min-h-[100vh] py-10",children:(0,a.jsx)("div",{className:"container bg-white mx-auto",children:(0,a.jsxs)("div",{className:"px-4 py-4 flex flex-col justify-start items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"Cart"}),(0,a.jsx)("hr",{className:"h-[1] w-[100%]"}),null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(s=t.user)||void 0===s?void 0:s.cart.map((e,s)=>{var t;return console.warn("asdasd",null===(t=e.product)||void 0===t?void 0:t.images[0].url),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex sm:justify-between justify-center items-center w-[100%] sm:flex-row flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex sm:flex-row flex-col  gap-4 ",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:e.product.images[0].url,width:100,height:100})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Name:"," "]})," ",e.product.name]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Category:"," "]})," ",e.product.category]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"Quantity :"})," ",e.quantity]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:[" ","Price : ₹"," "]}),e.product.sellingPrice]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"TotalPrice :"})," ",e.product.sellingPrice,"*",e.quantity," = ₹",e.product.sellingPrice*e.quantity]}),(0,a.jsx)("button",{className:"text-blue-500  flex justify-end active:text-red-500",onClick:()=>b(e.product._id),children:(0,a.jsx)(x.ZkW,{})})]})]},s),(0,a.jsx)("hr",{className:"w-[100%]"})]})}),(0,a.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{children:"SubTotal"}),(0,a.jsx)("p",{className:"text-sm",children:"shopping and taxes added at checkout"})]}),(0,a.jsx)("div",{children:c})]}),(0,a.jsx)("div",{className:"w-[100%]",children:(0,a.jsx)(d(),{href:"/checkout",children:(0,a.jsx)("button",{className:"bg-blue-500 text-white hover:text-black w-[100%] text-center rounded py-3",children:"Checkout"})})}),(0,a.jsx)("div",{className:"w-[100%] flex justify-center items-center",children:(0,a.jsx)(d(),{href:"/",children:(0,a.jsx)("button",{className:"text-center",children:"Continue Shopping -- "})})})]})})})})}},4766:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var a=t(7437),r=t(2265);t(8654);var l=t(1396),n=t.n(l);t(6691);var i=t(165),c=t(5764),d=t(6770),o=t(9103),x=t(698),u=t(8910),h="https://js.stripe.com/v3",p=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,f=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),s=0;s<e.length;s++){var t=e[s];if(p.test(t.src))return t}return null},m=function(e){var s=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(h).concat(s);var a=document.head||document.body;if(!a)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(t),t},j=function(e,s){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.1.5",startTime:s})},v=null,g=function(e,s,t){if(null===e)return null;var a=e.apply(void 0,s);return j(a,t),a},b=Promise.resolve().then(function(){return null!==v?v:v=new Promise(function(e,s){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var t=f();t||(t=m(null)),t.addEventListener("load",function(){window.Stripe?e(window.Stripe):s(Error("Stripe.js not available"))}),t.addEventListener("error",function(){s(Error("Failed to load Stripe.js"))})}catch(e){s(e);return}})}),y=!1;b.catch(function(e){y||console.warn(e)});var N=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];y=!0;var a=Date.now();return b.then(function(e){return g(e,s,a)})},w=()=>{var e,s,t;let[l,h]=(0,r.useState)(0),[p,f]=(0,r.useState)(),m=(0,i.NL)();(0,r.useEffect)(()=>{setTimeout(()=>{g()},1e3)},[p]),(0,r.useEffect)(()=>{var e,s;if(null==p?void 0:null===(s=p.data)||void 0===s?void 0:null===(e=s.user)||void 0===e?void 0:e.cart){let e=p.data.user.cart.reduce((e,s)=>e+s.product.sellingPrice*s.quantity,0);h(e)}},[p]);let{isLoading:j,mutate:v}=(0,c.D)(async e=>{let s=await (0,d.ul)(e);if(console.log("responseOfDelete",s),200!==s.status)throw Error();return s},{onSuccess:async()=>{o.Z.success("product deleted successFuly"),m.invalidateQueries("getLoginUserDetails"),await m.refetchQueries("getLoginUserDetails"),await g()},onError:()=>{o.Z.error("product not deleted try again")}}),g=async()=>{let e=await m.getQueryData(["getLoginUserDetails"]);console.log(e||""),f(e)},b=async()=>{var e,s;let t=await N("pk_test_51NjDbvSDdruy8IaQVIy3lm8PffsPCBpJAcQ5zm2zctYJlrU5H5INip8rp6xmg4wSI6mBej7TtTW2PSggWv8aD7rC00JFyxotlA"),a={products1:null==p?void 0:null===(s=p.data)||void 0===s?void 0:null===(e=s.user)||void 0===e?void 0:e.cart},r=await fetch("http://localhost:27017/payNow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await r.json(),n=t.redirectToCheckout({sessionId:l.id});n.error&&console.log(n.error)};if(!p)return(0,a.jsx)("div",{className:"flex justify-center items-center mt-[200px] ",children:(0,a.jsx)(x.s5,{strokeColor:"brown",strokeWidth:"2",animationDuration:"0.75",width:"100",visible:!0})});console.warn(null==p?void 0:null===(e=p.data)||void 0===e?void 0:e.user,"warningggggggggggggg");let y=e=>{j||v(e)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full min-h-[100vh] bg-slate-300 pt-10",children:[(0,a.jsxs)("div",{className:"container mx-auto bg-white flex md:flex-row flex-col gap-2 justify-between px-3 py-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-8 md:w-[60%]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold",children:"Personal Information"}),(0,a.jsx)("p",{children:"use a permanent address where you can receive mail"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"Full Name"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"Email Address"}),(0,a.jsx)("input",{type:"email",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"Phone"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"street"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex md:flex-row flex-col justify-evenly gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"city"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"State"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("label",{children:"Postal code"}),(0,a.jsx)("input",{type:"text",className:"border-[1px] border-solid border-black rounded px-3"})]})]}),(0,a.jsx)("hr",{className:"h-[2px] bg-black"}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{children:"Reset"}),(0,a.jsx)("button",{className:"bg-blue-500 px-3 py-4 text-white rounded active:text-black",children:"Add Address"})]})]}),(0,a.jsx)("div",{className:"bg-slate-200 min-h-[100vh] py-10",children:(0,a.jsx)("div",{className:"container bg-white mx-auto",children:(0,a.jsxs)("div",{className:"px-4 py-4 flex flex-col justify-start items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"Cart"}),(0,a.jsx)("hr",{className:"h-[1] w-[100%]"}),null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(s=t.user)||void 0===s?void 0:s.cart.map((e,s)=>{var t;return console.warn("asdasd",null===(t=e.product)||void 0===t?void 0:t.images[0].url),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex sm:justify-between justify-center items-center w-[100%] sm:flex-row flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex sm:flex-row flex-col  gap-4 ",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:e.product.images[0].url,width:100,height:100})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Name:"," "]})," ",e.product.name]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[" ",(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:["Category:"," "]})," ",e.product.category]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"Quantity :"})," ",e.quantity]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-bold text-orange-500",children:[" ","Price : ₹"," "]}),e.product.sellingPrice]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-orange-500",children:"TotalPrice :"})," ",e.product.sellingPrice,"*",e.quantity," = ₹",e.product.sellingPrice*e.quantity]}),(0,a.jsx)("button",{className:"text-blue-500  flex justify-end active:text-red-500",onClick:()=>y(e.product._id),children:(0,a.jsx)(u.ZkW,{})})]})]},s),(0,a.jsx)("hr",{className:"w-[100%]"})]})}),(0,a.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{children:"SubTotal"}),(0,a.jsx)("p",{className:"text-sm",children:"shopping and taxes added at checkout"})]}),(0,a.jsx)("div",{children:l})]}),(0,a.jsx)("div",{className:"w-[100%]",children:(0,a.jsx)("button",{onClick:b,className:"bg-blue-500 text-white hover:text-black w-[100%] text-center rounded py-3",children:"Pay Now"})}),(0,a.jsx)("div",{className:"w-[100%] flex justify-center items-center",children:(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)("button",{className:"text-center",children:"Continue Shopping -- "})})})]})})})]}),(0,a.jsxs)("div",{className:"container mx-auto px-3 py-3",children:[(0,a.jsx)("h1",{className:"font-bold",children:"Addresses"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"choose from existing address"}),(0,a.jsxs)("div",{className:"flex justify-between md:w-[60%] border-[1px] border-black px-3",children:[(0,a.jsxs)("div",{className:"flex gap-5 py-4",children:[(0,a.jsx)("input",{type:"checkbox"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"font-bold",children:"sachin sangwan"}),(0,a.jsx)("div",{children:"11th main"}),(0,a.jsx)("div",{children:"127310"})]})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)("div",{children:"Phone: 8053081201"}),(0,a.jsx)("div",{className:"text-end",children:"kalali"})]})]})]})]}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,a.jsx)("h1",{className:"font-bold",children:"payment method"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"checkbox"}),(0,a.jsx)("div",{children:"cash on delivery"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"checkbox"}),(0,a.jsx)("div",{children:"card"})]})]})]})]})})}},6770:function(e,s,t){"use strict";t.d(s,{Xq:function(){return h},ul:function(){return p},de:function(){return x},hH:function(){return c},_0:function(){return u},hZ:function(){return f},a$:function(){return n},z1:function(){return o},n$:function(){return i},Kv:function(){return d}});var a=t(9222);let r=async(e,s,t,r)=>{try{let l={method:e,url:s,data:t,headers:r?{...r}:{"Content-Type":"application/json"},withCredentials:!0,credentials:"include"},n=await (0,a.Z)(l);return{status:200,success:!0,data:n.data}}catch(e){return{status:400,success:!1,error:e.response?e.response.data:e}}};var l=t(9294);let n=async(e,s)=>await r("POST","".concat(l._,"/registerUser"),e,s),i=async e=>await r("POST","".concat(l._,"/userLogin"),e),c=async()=>await r("GET","".concat(l._,"/getLoginUserDetails"),""),d=async()=>await r("GET","".concat(l._,"/userLogout"),""),o=async(e,s)=>await r("PUT","".concat(l._,"/updateProfileAfterLogin"),e,s),x=async e=>await r("GET","".concat(l._,"/getAllProduct/").concat(e),""),u=async e=>await r("GET","".concat(l._,"/getSingleProduct/").concat(e),""),h=async(e,s)=>(console.log(s,"data data dtadtad ad tadatd ",e),await r("POST","".concat(l._,"/addToCart/").concat(e),s)),p=async e=>await r("DELETE","".concat(l._,"/deleteToCart/").concat(e)),f=async e=>await r("POST","".concat(l._,"/postProduct"),e)},9294:function(e,s,t){"use strict";t.d(s,{_:function(){return a}});let a="https://e-commerce-backend-xh0l.onrender.com"}},function(e){e.O(0,[582,685,475,717,777,501,282,971,596,744],function(){return e(e.s=3564)}),_N_E=e.O()}]);